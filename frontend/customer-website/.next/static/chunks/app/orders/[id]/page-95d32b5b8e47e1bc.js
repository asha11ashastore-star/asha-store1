(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{129:function(e,s,t){Promise.resolve().then(t.bind(t,3047))},3047:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),r=t(2265),i=t(4640),l=t(9487),d=t(1396),n=t.n(d);function c(e){var s,t,d,c,o,x,m,h,p,u,g;let{params:j}=e,[v,y]=(0,r.useState)(null),[b,N]=(0,r.useState)(!0),[f,w]=(0,r.useState)(""),{isAuthenticated:_}=(0,i.useAuth)();(0,r.useEffect)(()=>{_&&j.id?O():_||N(!1)},[_,j.id]);let O=async()=>{try{let e=await l.Z.getOrder(j.id);y(e)}catch(e){console.error("Error fetching order details:",e),w("Failed to load order details")}finally{N(!1)}};return _?b?(0,a.jsx)("div",{className:"min-h-screen bg-warm-white py-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-serif text-primary-brown mb-8",children:"Order Details"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})})}):f||!v?(0,a.jsx)("div",{className:"min-h-screen bg-warm-white py-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-serif text-primary-brown mb-8",children:"Order Details"}),(0,a.jsx)("p",{className:"text-red-600 mb-4",children:f||"Order not found"}),(0,a.jsx)(n(),{href:"/orders",className:"bg-rich-brown text-white px-6 py-3 rounded-lg hover:bg-primary-brown transition-colors",children:"Back to Orders"})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-warm-white py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-serif text-primary-brown",children:"Order Details"}),(0,a.jsx)(n(),{href:"/orders",className:"text-rich-brown hover:text-primary-brown font-medium",children:"← Back to Orders"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Order #",v.id]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Placed on ",new Date(v.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₹",v.total_amount]}),(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium mt-2 ".concat("completed"===v.status?"bg-green-100 text-green-800":"processing"===v.status?"bg-yellow-100 text-yellow-800":"shipped"===v.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]})]})}),(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Items (",(null===(s=v.items)||void 0===s?void 0:s.length)||0,")"]}),(0,a.jsx)("div",{className:"space-y-4",children:null===(t=v.items)||void 0===t?void 0:t.map(e=>{var s,t,r,i,l;return(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("img",{src:(null===(t=e.product)||void 0===t?void 0:null===(s=t.images)||void 0===s?void 0:s[0])||"/placeholder-product.jpg",alt:null===(r=e.product)||void 0===r?void 0:r.name,className:"w-20 h-20 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:null===(i=e.product)||void 0===i?void 0:i.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:null===(l=e.product)||void 0===l?void 0:l.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Qty: ",e.quantity]}),(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:["₹",e.price]})]})]})]},e.id)})})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Shipping Address"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:null===(d=v.shipping_address)||void 0===d?void 0:d.name}),(0,a.jsx)("p",{children:null===(c=v.shipping_address)||void 0===c?void 0:c.address_line_1}),(null===(o=v.shipping_address)||void 0===o?void 0:o.address_line_2)&&(0,a.jsx)("p",{children:v.shipping_address.address_line_2}),(0,a.jsxs)("p",{children:[null===(x=v.shipping_address)||void 0===x?void 0:x.city,", ",null===(m=v.shipping_address)||void 0===m?void 0:m.state," - ",null===(h=v.shipping_address)||void 0===h?void 0:h.pincode]}),(0,a.jsxs)("p",{children:["Phone: ",null===(p=v.shipping_address)||void 0===p?void 0:p.phone]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"text-gray-900",children:["₹",v.subtotal||v.total_amount]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Shipping:"}),(0,a.jsxs)("span",{className:"text-gray-900",children:["₹",v.shipping_cost||0]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Tax:"}),(0,a.jsxs)("span",{className:"text-gray-900",children:["₹",v.tax_amount||0]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:(0,a.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,a.jsx)("span",{className:"text-gray-900",children:"Total:"}),(0,a.jsxs)("span",{className:"text-gray-900",children:["₹",v.total_amount]})]})})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Status:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("paid"===v.payment_status?"bg-green-100 text-green-800":"pending"===v.payment_status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(null===(u=v.payment_status)||void 0===u?void 0:u.charAt(0).toUpperCase())+(null===(g=v.payment_status)||void 0===g?void 0:g.slice(1))||"Pending"})]})})]})]})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-warm-white py-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-serif text-primary-brown mb-4",children:"Order Details"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Please log in to view your order details."}),(0,a.jsx)(n(),{href:"/",className:"bg-rich-brown text-white px-6 py-3 rounded-lg hover:bg-primary-brown transition-colors",children:"Go to Home"})]})})})}}},function(e){e.O(0,[922,640,971,938,560],function(){return e(e.s=129)}),_N_E=e.O()}]);