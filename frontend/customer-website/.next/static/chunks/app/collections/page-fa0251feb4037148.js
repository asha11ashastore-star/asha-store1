(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{7807:function(e,t,s){Promise.resolve().then(s.bind(s,8212))},8212:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u},dynamic:function(){return d},revalidate:function(){return h}});var a=s(7437),r=s(2265),i=s(4033),n=s(4193),o=s(2201),l=s(8372),c=s(2601);let d="force-dynamic",h=0;function m(){let e=(0,i.useRouter)(),{addItem:t}=(0,l.useCart)(),s=(0,i.useSearchParams)(),[d,h]=(0,r.useState)([]),[m,u]=(0,r.useState)(!0),x=s.get("category")||"all";(0,r.useEffect)(()=>{(async()=>{try{u(!0);let t=new Date().getTime(),s=await fetch("".concat(c.env.NEXT_PUBLIC_API_BASE_URL||"https://asha-store-backend.onrender.com","/api/v1/products-fixed?_t=").concat(t),{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(s.ok){var e;let t=await s.json();console.log("✅ Fetched FRESH products:",(null===(e=t.items)||void 0===e?void 0:e.length)||t.length||0,"products"),h(t.items||t||[])}else console.error("❌ Failed to fetch products:",s.status,s.statusText)}catch(e){console.error("❌ Error fetching products:",e)}finally{u(!1)}})()},[]);let g=d.filter(e=>{var t;return!!("all"===x||e.category===x||"saree"===x&&(null===(t=e.category)||void 0===t?void 0:t.includes("saree")))});return(0,a.jsxs)("div",{className:"min-h-screen bg-beige-50",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-beige-900 mb-8 text-center",children:"all"===x?"ALL":({kantha_saree:"KANTHA SAREES",jamdani_saree:"JAMDANI SAREES",handloom_saree:"HANDLOOM SAREES",shibori_saree:"TIE N DYE (SHIBORI) SAREES",handblock_saree:"HANDBLOCK SAREES",batik_saree:"BATIK SAREES",ajrakh_saree:"AJRAKH SAREES",khadi_saree:"KHADI SAREES",tissue_saree:"TISSUE SAREES",jacquard_saree:"JACQUARD SAREES",kota_saree:"KOTA SAREES",handloom_cotton_saree:"HANDLOOM COTTON SAREES",tangail_cotton_saree:"TANGAIL COTTON SAREES",handloom_silk_saree:"HANDLOOM SILK SAREES",matka_silk_saree:"MATKA SILK SAREES",tussar_silk_saree:"TUSSAR SILK SAREES",muslin_silk_saree:"MUSLIN SILK SAREES",katan_silk_saree:"KATAN SILK SAREES"})[x]||x.replace("_"," ").toUpperCase()}),(0,a.jsxs)("p",{className:"text-center text-beige-600 mb-8",children:["Showing ",g.length," products"]}),m?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beige-800 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-beige-600",children:"Loading products..."})]}):0===g.length?(0,a.jsx)("div",{className:"text-center py-20",children:(0,a.jsxs)("div",{className:"inline-block p-8 bg-white rounded-lg shadow-md",children:[(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto text-beige-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-beige-800 mb-2",children:"No Products Found"}),(0,a.jsx)("p",{className:"text-beige-600",children:"We don't have any products in this category yet."}),(0,a.jsx)("button",{onClick:()=>window.location.href="/collections",className:"mt-6 px-6 py-2 bg-beige-800 text-white rounded-lg hover:bg-beige-900",children:"View All Products"})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.map(s=>{var r,i;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow cursor-pointer",children:[(0,a.jsx)("div",{className:"aspect-square relative bg-gray-100",onClick:()=>e.push("/product/".concat(s.id)),children:(0,a.jsx)("img",{src:(null===(r=s.primary_image)||void 0===r?void 0:r.startsWith("http"))?s.primary_image:"".concat(c.env.NEXT_PUBLIC_API_BASE_URL||"https://asha-store-backend.onrender.com").concat(s.primary_image||"/uploads/placeholder.jpg"),alt:s.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/400x400?text=No+Image"}})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-beige-900 mb-2 line-clamp-2 cursor-pointer hover:text-beige-700",onClick:()=>e.push("/product/".concat(s.id)),children:s.name}),(0,a.jsx)("p",{className:"text-beige-600 text-sm mb-3 line-clamp-2",children:s.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-xl font-bold text-beige-800",children:["₹",null===(i=s.price)||void 0===i?void 0:i.toLocaleString()]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),t(s)},className:"px-4 py-2 bg-beige-800 text-white rounded-lg hover:bg-beige-900 transition-colors text-sm",children:"Add to Cart"})]})]})]},s.id)})})]}),(0,a.jsx)(o.default,{})]})}function u(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-beige-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-beige-800 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-beige-600",children:"Loading collections..."})]})}),children:(0,a.jsx)(m,{})})}}},function(e){e.O(0,[922,640,809,971,938,560],function(){return e(e.s=7807)}),_N_E=e.O()}]);