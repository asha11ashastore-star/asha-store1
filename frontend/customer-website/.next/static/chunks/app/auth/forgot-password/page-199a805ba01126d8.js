(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47],{350:function(e,s,t){Promise.resolve().then(t.bind(t,103))},103:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var r=t(7437),a=t(2265),l=t(4033),n=t(4193),i=t(2201),o=t(2601);function c(){let e=(0,l.useRouter)(),[s,t]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1),[b,p]=(0,a.useState)(""),f=async e=>{e.preventDefault(),d(""),u(!0);try{let e=o.env.NEXT_PUBLIC_API_BASE_URL||"https://asha-store-backend.onrender.com",t=await fetch("".concat(e,"/api/v1/auth/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})});if(t.ok){let e=await t.json();console.log("Forgot password response:",e),e.reset_link&&p(e.reset_link),x(!0)}else{let e=await t.json();d(e.detail||"Failed to send reset email. Please try again.")}}catch(e){d("An error occurred. Please try again later.")}finally{u(!1)}};return m?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-beige-50",children:[(0,r.jsx)(n.default,{}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-3xl font-serif text-primary-brown mb-2",children:"Password Reset Link Ready!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Email service is not configured. Click the button below to reset your password:"}),(0,r.jsx)("p",{className:"text-primary-brown font-semibold mb-6",children:s}),(0,r.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-amber-800 font-semibold mb-3",children:"⚠️ Email service is temporarily unavailable"}),(0,r.jsx)("p",{className:"text-xs text-amber-700 mb-4",children:"Click the button below to reset your password directly"}),(0,r.jsx)("button",{onClick:()=>window.location.href=b,className:"w-full bg-primary-brown text-white px-6 py-3 rounded-lg font-bold text-lg hover:bg-dark-brown transition-colors shadow-lg",children:"\uD83D\uDD11 Reset Password Now"}),(0,r.jsx)("p",{className:"text-xs text-amber-600 mt-3",children:"This link expires in 60 minutes"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-3xl font-serif text-primary-brown mb-2",children:"Check Your Email!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"We've sent password reset instructions to:"}),(0,r.jsx)("p",{className:"text-primary-brown font-semibold mb-6",children:s}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Please check your email and follow the instructions to reset your password. If you don't see the email, check your spam folder."})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:()=>e.push("/auth/login"),className:"w-full bg-beige-200 text-primary-brown py-3 rounded-lg hover:bg-beige-300 transition-colors font-semibold",children:"Back to Login"}),(0,r.jsx)("button",{onClick:()=>{x(!1),t(""),p("")},className:"w-full bg-beige-200 text-primary-brown py-3 rounded-lg hover:bg-beige-300 transition-colors font-semibold",children:"Try Different Email"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Need help?"," ",(0,r.jsx)("a",{href:"mailto:asha11ashastore@gmail.com",className:"text-primary-brown hover:underline",children:"Contact Support"})]})})]})})}),(0,r.jsx)(i.default,{})]}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-beige-50",children:[(0,r.jsx)(n.default,{}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-serif text-primary-brown mb-2",children:"Forgot Password?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No worries! Enter your email and we'll send you reset instructions."})]}),c&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:c})}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,r.jsx)("input",{id:"email",type:"email",required:!0,value:s,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-brown focus:border-transparent",placeholder:"you@example.com"}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"We'll send password reset instructions to this email"})]}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-primary-brown text-white py-3 rounded-lg hover:bg-dark-brown transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Sending...":"Send Reset Link"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("button",{onClick:()=>e.push("/auth/login"),className:"text-primary-brown hover:underline font-semibold",children:"← Back to Login"})}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",(0,r.jsx)("button",{onClick:()=>e.push("/auth/signup"),className:"text-primary-brown hover:underline font-semibold",children:"Sign Up"})]})})]})})}),(0,r.jsx)(i.default,{})]})}}},function(e){e.O(0,[922,640,809,971,938,560],function(){return e(e.s=350)}),_N_E=e.O()}]);