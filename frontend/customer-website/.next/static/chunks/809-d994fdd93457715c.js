(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{8372:function(e,t,s){"use strict";s.r(t),s.d(t,{CartProvider:function(){return l},useCart:function(){return n}});var r=s(7437),a=s(2265);s(9487);let o=(0,a.createContext)();function l(e){let{children:t}=e,[s,l]=(0,a.useState)([]),n=e=>{l(t=>t.filter(t=>t.cartId!==e))};return(0,r.jsx)(o.Provider,{value:{items:s,addItem:e=>{let t=e.stock_quantity||e.stock||0;l(s=>{let r=s.find(t=>t.id===e.id&&t.selectedSize===e.selectedSize),a=e.quantity||1;if(r){let o=r.quantity+a;return o>t?(alert("Cannot add more items. Only ".concat(t," in stock. You already have ").concat(r.quantity," in your cart.")),s):s.map(t=>t.id===e.id&&t.selectedSize===e.selectedSize?{...t,quantity:o}:t)}if(a>t)return alert("Cannot add ".concat(a," items. Only ").concat(t," in stock.")),s;let o="".concat(e.id,"_").concat(e.selectedSize||"nosize","_").concat(Date.now());return[...s,{...e,quantity:a,cartId:o}]})},updateQuantity:(e,t)=>{if(t<=0){n(e);return}l(s=>{let r=s.find(t=>t.cartId===e);if(!r)return s;let a=r.stock_quantity||r.stock||0;return t>a?(alert("Cannot set quantity to ".concat(t,". Only ").concat(a," in stock.")),s):s.map(s=>s.cartId===e?{...s,quantity:t}:s)})},removeItem:n,clearCart:()=>{l([])},getTotal:()=>s.reduce((e,t)=>e+parseFloat(t.price.toString().replace(/[^0-9.]/g,""))*t.quantity,0).toFixed(2)},children:t})}function n(){let e=(0,a.useContext)(o);if(!e)throw Error("useCart must be used within a CartProvider");return e}},2201:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var r=s(7437),a=s(1396),o=s.n(a),l=s(2265);function n(){let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(!1),[n,i]=(0,l.useState)(!1);return(0,r.jsx)("footer",{className:"bg-brown-800 text-cream",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"col-span-1",children:[(0,r.jsx)("h3",{className:"text-2xl font-elegant text-cream mb-4 tracking-widest font-medium",children:"Aशा"}),(0,r.jsx)("p",{className:"text-cream/80 mb-4 leading-relaxed",children:"Discover timeless beauty with our curated collection of handwoven sarees and traditional Indian wear."}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("a",{href:"https://www.facebook.com/profile.php?id=61583909454081",target:"_blank",rel:"noopener noreferrer",className:"text-beige-200 hover:text-beige-100 transition-colors",title:"Follow us on Facebook",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,r.jsx)("a",{href:"https://www.instagram.com/asha_21131?igsh=bDhzeWp3eXlvY25q",target:"_blank",rel:"noopener noreferrer",className:"text-beige-200 hover:text-beige-100 transition-colors",title:"Follow us on Instagram",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12.017 0C8.396 0 7.929.01 7.262.048 4.85.207 3.285 1.599 2.53 3.45.666 7.806.666 16.207 2.53 20.55c1.595 3.11 4.706 3.45 9.487 3.45 4.782 0 7.893-.34 9.487-3.45 1.864-4.343 1.864-12.744 0-17.1C20.75 1.599 19.185.207 16.773.048 16.106.01 15.639 0 12.017 0zm0 2.17c3.291 0 3.677.014 4.974.072 2.873.128 4.372 1.595 4.502 4.502.058 1.297.072 1.683.072 4.974 0 3.291-.014 3.677-.072 4.974-.13 2.907-1.629 4.374-4.502 4.502-1.297.058-1.683.072-4.974.072-3.291 0-3.677-.014-4.974-.072-2.873-.128-4.372-1.595-4.502-4.502C2.185 15.394 2.17 15.008 2.17 11.717c0-3.291.014-3.677.072-4.974.13-2.907 1.629-4.374 4.502-4.502C8.34 2.185 8.726 2.17 12.017 2.17zm0 3.405c-3.4 0-6.162 2.76-6.162 6.162 0 3.402 2.762 6.162 6.162 6.162 3.402 0 6.162-2.76 6.162-6.162 0-3.402-2.76-6.162-6.162-6.162zM12.017 9.85c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25-2.25-1.01-2.25-2.25 1.01-2.25 2.25-2.25zm4.408-2.533c0 .79-.64 1.43-1.43 1.43-.79 0-1.43-.64-1.43-1.43 0-.79.64-1.43 1.43-1.43.79 0 1.43.64 1.43 1.43z"})})}),(0,r.jsx)("a",{href:"https://share.google/liTaFredBEZjVnvPY",target:"_blank",rel:"noopener noreferrer",className:"text-beige-200 hover:text-beige-100 transition-colors",title:"Follow us on Twitter",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 text-cream uppercase tracking-wide",children:"QUICK LINKS"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/collections",className:"text-cream/80 hover:text-cream transition-colors",children:"All Collections"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/collections?category=saree",className:"text-cream/80 hover:text-cream transition-colors",children:"Sarees"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/collections?category=lehenga",className:"text-cream/80 hover:text-cream transition-colors",children:"Lehengas"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/collections?category=kurti",className:"text-cream/80 hover:text-cream transition-colors",children:"Kurtis"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 text-cream uppercase tracking-wide",children:"POLICIES"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/about",className:"text-cream/80 hover:text-cream transition-colors",children:"About Us"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/contact",className:"text-cream/80 hover:text-cream transition-colors",children:"Contact Us"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/size-guide",className:"text-cream/80 hover:text-cream transition-colors",children:"Size Guide"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/shipping",className:"text-cream/80 hover:text-cream transition-colors",children:"Shipping Policy"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/returns",className:"text-cream/80 hover:text-cream transition-colors",children:"Return Policy"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4 text-cream uppercase tracking-wide",children:"NEWSLETTER"}),(0,r.jsx)("p",{className:"text-cream/80 mb-4",children:"Subscribe to receive updates and exclusive offers"}),s?(0,r.jsx)("div",{className:"bg-green-600 text-white p-3 rounded-lg text-center",children:"✓ Thank you for subscribing!"}):(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(!0),setTimeout(()=>{i(!1),a(!0),t(""),setTimeout(()=>{a(!1)},3e3)},1e3)},className:"flex",children:[(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Your email",required:!0,className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-maroon text-white placeholder-white/70"}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"bg-maroon text-white px-4 py-2 rounded-r-lg hover:bg-dark-maroon transition-colors uppercase tracking-wider text-sm font-medium disabled:opacity-50",children:n?"Subscribing...":"Subscribe"})]})]})]}),(0,r.jsx)("div",{className:"border-t border-brown-700 mt-12 pt-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,r.jsx)("p",{className:"text-white text-sm",children:"\xa9 2025 Aशा - Grace Woven by Asha Dhaundiyal. All rights reserved."}),(0,r.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,r.jsx)(o(),{href:"/privacy",className:"text-white hover:text-gray-200 text-sm transition-colors",children:"Privacy Policy"}),(0,r.jsx)(o(),{href:"/terms",className:"text-white hover:text-gray-200 text-sm transition-colors",children:"Terms of Service"})]})]})})]})})}},4193:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=s(7437),a=s(1396),o=s.n(a),l=s(2265);function n(e){let{isOpen:t,onClose:s}=e,[a,o]=(0,l.useState)(""),[n,i]=(0,l.useState)([]);return((0,l.useEffect)(()=>{a?([{id:1,name:"Silk Saree",price:"₹5,999",image:"/api/placeholder/200/250"},{id:2,name:"Cotton Kurta",price:"₹1,299",image:"/api/placeholder/200/250"},{id:3,name:"Embroidered Lehenga",price:"₹8,999",image:"/api/placeholder/200/250"}].filter(e=>e.name.toLowerCase().includes(a.toLowerCase())),i(n)):i([])},[a]),t)?(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-start justify-center min-h-screen pt-20 px-4",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:s}),(0,r.jsx)("div",{className:"relative bg-white w-full max-w-2xl rounded-lg shadow-xl",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-serif",children:"Search Products"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Search for products...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",autoFocus:!0}),n.length>0&&(0,r.jsx)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:n.map(e=>(0,r.jsxs)("div",{className:"cursor-pointer hover:opacity-80",children:[(0,r.jsx)("div",{className:"bg-gray-100 h-40 rounded-lg mb-2"}),(0,r.jsx)("h3",{className:"text-sm font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.price})]},e.id))}),a&&0===n.length&&(0,r.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"No products found"})]})})]})}):null}var i=s(4033),c=s(4640);function d(e){let{isOpen:t,onClose:s}=e,a=(0,i.useRouter)(),[o,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)(""),[x,h]=(0,l.useState)(""),[u,g]=(0,l.useState)(""),[p,y]=(0,l.useState)(""),[b,f]=(0,l.useState)(""),[j,v]=(0,l.useState)(""),[k,N]=(0,l.useState)(""),[w,C]=(0,l.useState)(!1),{login:S,register:_}=(0,c.useAuth)(),D=async e=>{e.preventDefault(),C(!0),N("");try{await S(d,x),N("Login successful! Welcome back."),setTimeout(()=>{s(),L()},2e3)}catch(e){console.error("Login error:",e),N("Login failed: ".concat(e.message))}finally{C(!1)}},E=async e=>{e.preventDefault(),C(!0),N("");try{await _({email:d,password:x,username:b,first_name:u,last_name:p,phone:j||null,role:"buyer"}),N("Registration successful! You can now login."),setTimeout(()=>{n(!1),L()},2e3)}catch(t){console.error("Registration error:",t),console.error("Error message:",t.message);let e=t.message.toLowerCase();e.includes("email")&&e.includes("already")?(N('Email already registered. Please click "Already have an account? Login" below to sign in.'),setTimeout(()=>{n(!1),N("")},3e3)):e.includes("username")&&e.includes("already")?N("Username already taken. Please choose a different username."):e.includes("unique constraint")||e.includes("duplicate")?e.includes("email")?N("This email is already registered. Please use a different email or login."):e.includes("username")?N("This username is already taken. Please choose a different username."):N("Account with these details already exists. Please try different credentials."):N("Registration failed: ".concat(t.message))}finally{C(!1)}},L=()=>{m(""),h(""),g(""),y(""),f(""),v(""),N("")},A=()=>{L(),n(!1),s()};return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:s}),(0,r.jsx)("div",{className:"relative bg-white w-full max-w-md rounded-lg shadow-xl",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-serif",children:o?"Sign Up":"Login"}),(0,r.jsx)("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("form",{onSubmit:o?E:D,className:"space-y-4",children:[o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",placeholder:"First name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,r.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",placeholder:"Last name",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,r.jsx)("input",{type:"text",value:b,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",placeholder:"Choose a unique username",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Use your email prefix or add numbers (e.g., sarah_2024)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone (Optional)"}),(0,r.jsx)("input",{type:"tel",value:j,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",placeholder:"+91 9999999999"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",value:d,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",placeholder:"Enter your email",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),!o&&(0,r.jsx)("button",{type:"button",onClick:()=>{A(),a.push("/auth/forgot-password")},className:"text-xs text-beige-600 hover:underline",style:{color:"#B83C3A"},children:"Forgot Password?"})]}),(0,r.jsx)("input",{type:"password",value:x,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-beige-600",placeholder:"Enter your password",minLength:o?8:void 0,required:!0}),o&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),k&&(0,r.jsx)("p",{className:"text-sm ".concat(k.includes("successful")?"text-green-600":"text-red-600"),children:k}),(0,r.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-beige-600 text-white py-3 rounded-lg hover:bg-beige-700 transition-colors disabled:opacity-50",style:{backgroundColor:"#B83C3A"},children:w?"Please wait...":o?"Sign Up":"Login"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>n(!o),className:"text-sm text-beige-600 hover:text-beige-700 transition-colors",style:{color:"#B83C3A"},children:o?"Already have an account? Login":"Don't have an account? Sign Up"})}),!o&&(0,r.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[(0,r.jsx)("p",{children:'New to Aशा? Click "Sign Up" above to create an account!'}),(0,r.jsx)("p",{className:"text-xs mt-1",children:"Join thousands of customers who love our handwoven collection."})]})]})]})})]})}):null}var m=s(8372);let x=s(2601).env.NEXT_PUBLIC_API_BASE_URL||"https://asha-store-backend.onrender.com";function h(e){let{isOpen:t,onClose:s,onSuccess:a}=e,o=(0,i.useRouter)(),{user:n}=(0,c.useAuth)(),{items:d,getTotal:h,clearCart:u}=(0,m.useCart)(),[g,p]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[f,j]=(0,l.useState)({name:"",email:"",phone:"",address:"",city:"",state:"",pinCode:""}),[v,k]=(0,l.useState)({});if(console.log("RAZORPAY_PAYMENT_LINK configured:","https://razorpay.me/@ashadhaundiyal8487"),(0,l.useEffect)(()=>{t&&!n?b(!0):b(!1)},[t,n]),(0,l.useEffect)(()=>{n&&(console.log("\uD83D\uDD04 Syncing checkout form with logged-in user:",n.email),j(e=>({...e,name:n.first_name+(n.last_name?" ".concat(n.last_name):""),email:n.email,phone:n.phone||e.phone})))},[n]),!t)return null;let N=()=>{let e={};return f.name.trim()||(e.name="Name is required"),f.email.trim()||(e.email="Email is required"),f.phone.trim()||(e.phone="Phone is required"),f.address.trim()||(e.address="Street address is required"),f.city.trim()||(e.city="City is required"),f.state.trim()||(e.state="State is required"),f.pinCode.trim()||(e.pinCode="PIN code is required"),f.pinCode&&!/^[1-9][0-9]{5}$/.test(f.pinCode)&&(e.pinCode="Please enter a valid 6-digit PIN code"),f.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)&&(e.email="Please enter a valid email"),f.phone&&!/^[6-9]\d{9}$/.test(f.phone.replace(/\D/g,""))&&(e.phone="Please enter a valid 10-digit phone number"),k(e),0===Object.keys(e).length},w=async()=>{if(!N()){alert("Please fill in all required fields correctly.");return}p(!0);try{let e=parseFloat(h());if(!e||e<=0)throw Error("Invalid order amount. Please check your cart.");console.log("\uD83D\uDE80 ========== CHECKOUT STARTED =========="),console.log("\uD83D\uDD10 User logged in:",!!n),console.log("\uD83D\uDCE7 User email:",(null==n?void 0:n.email)||"None"),console.log("\uD83D\uDCB0 Total amount:",e),console.log("\uD83D\uDD11 Token in localStorage:",!!localStorage.getItem("auth_token")),console.log("\uD83D\uDC64 User data in localStorage:",!!localStorage.getItem("user_data")),console.log("\uD83D\uDE80 ========================================"),console.log("Creating Payment Link with locked amount:",e);let t="".concat(f.address,", ").concat(f.city,", ").concat(f.state," - ").concat(f.pinCode),s=n?n.email:f.email;console.log("\uD83D\uDD12 Security check - Order will be created with:"),console.log("  Logged-in user:",(null==n?void 0:n.email)||"None"),console.log("  Form email:",f.email),console.log("  Using email:",s),n&&n.email!==f.email&&(console.warn("⚠️ SECURITY WARNING: Form email differs from logged-in user!"),console.warn("  Form had:",f.email),console.warn("  Forcing to use:",n.email));let r={customer_name:f.name,customer_email:s,customer_phone:f.phone,customer_address:t,items:d.map(e=>({product_id:e.id,product_name:e.name,quantity:e.quantity,price:parseFloat(e.price.toString().replace(/[^0-9.]/g,""))})),total_amount:e,notes:"Payment via Razorpay Payment Link",auth_token:localStorage.getItem("auth_token")||null};console.log("Creating Razorpay Payment Link (amount will be LOCKED)..."),console.log("Order data:",r);let a=localStorage.getItem("auth_token"),o=localStorage.getItem("user_data");console.log("\uD83D\uDCBE ========== BACKUP STARTED =========="),console.log("\uD83D\uDCBE BACKUP METHOD 0: Saving order email to persistent storage...");try{localStorage.setItem("pending_payment_email",s),localStorage.setItem("pending_payment_time",Date.now().toString());let e=localStorage.getItem("pending_payment_email");console.log("\uD83D\uDCBE Saved pending payment for:",s),console.log("\uD83D\uDCBE Verification - Read back:",e),e!==s?console.error("❌ ERROR: Email not saved correctly!"):console.log("✅ Email saved and verified!")}catch(e){console.error("❌ CRITICAL ERROR saving pending payment email:",e)}a&&o?(console.log("\uD83D\uDCBE BACKUP METHOD 1: Saving to sessionStorage..."),sessionStorage.setItem("auth_token_backup",a),sessionStorage.setItem("user_data_backup",o),sessionStorage.setItem("last_order_email",s),"true"===sessionStorage.getItem("fresh_account")&&(console.log("\uD83D\uDCBE This is a FRESH account - will preserve after redirect"),sessionStorage.setItem("is_fresh_account_backup","true")),console.log("\uD83D\uDCBE Saved user:",JSON.parse(o).email),console.log("\uD83D\uDCBE BACKUP METHOD 2: Saving to cookies..."),document.cookie="auth_backup_token=".concat(a,"; path=/; max-age=3600; SameSite=Lax"),document.cookie="auth_backup_user=".concat(encodeURIComponent(o),"; path=/; max-age=3600; SameSite=Lax"),document.cookie="auth_backup_email=".concat(s,"; path=/; max-age=3600; SameSite=Lax"),console.log("\uD83D\uDCBE Saved to cookies (expires in 1 hour)"),console.log("\uD83C\uDF6A Verifying cookies were saved..."),console.log("\uD83C\uDF6A document.cookie:",document.cookie),console.log("\uD83C\uDF6A Cookie contains auth_backup_token:",document.cookie.includes("auth_backup_token")),console.log("\uD83C\uDF6A Cookie contains auth_backup_email:",document.cookie.includes("auth_backup_email"))):(console.log("⚠️ No auth data to backup - guest checkout"),console.log("⚠️ Token exists:",!!a),console.log("⚠️ UserData exists:",!!o)),console.log("\uD83D\uDCBE ========== BACKUP COMPLETED ==========");let l=await fetch("".concat(x,"/api/v1/payment-links/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){let e="Failed to create payment link";try{let t=await l.json();console.error("Payment link creation failed:",t),console.error("Response status:",l.status),"string"==typeof t.detail?e=t.detail:Array.isArray(t.detail)?e=t.detail.map(e=>e.msg||e.message||JSON.stringify(e)).join(", "):t.message&&(e=t.message)}catch(t){console.error("Could not parse error response:",t),e="Server error (".concat(l.status,"): ").concat(l.statusText)}throw Error(e)}let i=await l.json();if(console.log("✅ Payment Link created successfully!"),console.log("Payment Link Data:",JSON.stringify(i,null,2)),!i||!i.short_url||!i.order_number)throw console.error("Invalid payment link response:",i),Error("Invalid payment link response. Please try again.");let c=i.order_number,m=i.short_url;console.log("=".repeat(50)),console.log("\uD83D\uDD12 PAYMENT LINK CREATED (AMOUNT LOCKED!):"),console.log("Order Number:",c),console.log("Total Amount (₹):",e),console.log("Amount in Paise:",i.amount),console.log("Payment Link ID:",i.payment_link_id),console.log("Payment URL (LOCKED):",m),console.log("Status:",i.status),console.log("Expires At:",new Date(1e3*i.expires_at).toLocaleString()),console.log("\uD83D\uDD12 Amount is LOCKED in Razorpay - Customer CANNOT change it!"),console.log("=".repeat(50)),console.log("\uD83D\uDE80 Redirecting to payment page:",m),console.log("Order Number:",c),console.log("Amount: ₹",e,"(LOCKED)"),sessionStorage.setItem("pendingOrder",JSON.stringify({orderNumber:c,totalAmount:e,timestamp:Date.now()})),console.log("⏳ Waiting 500ms for storage operations to complete..."),await new Promise(e=>setTimeout(e,500)),console.log("\uD83D\uDD04 Final verification before redirect:"),console.log("  pending_payment_email:",localStorage.getItem("pending_payment_email")),console.log("  auth_token_backup:",!!sessionStorage.getItem("auth_token_backup")),console.log("  cookies:",document.cookie.includes("auth_backup")),console.log("\uD83D\uDE80 Redirecting to payment page..."),window.location.href=m}catch(t){console.error("=".repeat(50)),console.error("CHECKOUT ERROR:"),console.error("Error message:",t.message),console.error("Error details:",t),console.error("=".repeat(50));let e=t.message||"Failed to process order";e.includes("stock")||e.includes("out of stock")?e+="\n\n\uD83D\uDCA1 Tip: Some items may be out of stock. Please check your cart.":(e.includes("network")||e.includes("fetch"))&&(e+="\n\n\uD83D\uDCA1 Tip: Check your internet connection and try again."),alert("❌ ORDER FAILED\n\n".concat(e,"\n\nPlease try again or contact support:\nWhatsApp: +91 98181 74388")),p(!1)}},C=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return y?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please login or create an account to place an order. This allows you to track your orders and see your order history."}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>{s(),o.push("/auth/login")},className:"w-full bg-primary-brown text-white py-3 rounded-lg hover:bg-dark-brown transition-colors font-semibold",children:"Login to Continue"}),(0,r.jsx)("button",{onClick:()=>{s(),o.push("/auth/signup")},className:"w-full bg-beige-200 text-primary-brown py-3 rounded-lg hover:bg-beige-300 transition-colors font-semibold",children:"Create New Account"}),(0,r.jsx)("button",{onClick:s,className:"w-full text-gray-600 py-2 hover:text-gray-800 transition-colors",children:"Cancel"})]})]})}):(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-brown-800 to-brown-700 text-white p-4 sm:p-6 rounded-t-lg sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold",children:"Checkout"}),(0,r.jsx)("button",{onClick:s,className:"text-white hover:text-gray-200 text-3xl sm:text-2xl p-2 -m-2",children:"\xd7"})]})}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 pb-6 sm:pb-8",children:[(0,r.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Order Summary"}),(0,r.jsx)("div",{className:"space-y-2 sm:space-y-3",children:d.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-start sm:items-center border-b pb-2 sm:pb-3 gap-2",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium text-sm sm:text-base truncate",children:e.name}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center text-xs sm:text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["Qty: ",e.quantity]}),e.selectedSize&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"•"}),(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-brown-100 text-brown-800 font-semibold",children:["Size: ",e.selectedSize]})]})]})]}),(0,r.jsx)("p",{className:"font-semibold text-sm sm:text-base whitespace-nowrap",children:C(e.price*e.quantity)})]},e.id))}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-3 sm:mt-4 pt-3 sm:pt-4 border-t-2",children:[(0,r.jsx)("p",{className:"text-lg sm:text-xl font-bold",children:"Total"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl font-bold text-maroon",children:C(h())})]})]}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold",children:"Customer Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,r.jsx)("input",{type:"text",value:f.name,onChange:e=>j({...f,name:e.target.value}),className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.name?"border-red-500":"border-gray-300"),placeholder:"Enter your full name"}),v.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email * ",n&&(0,r.jsx)("span",{className:"text-xs text-green-600",children:"✓ Verified from your account"})]}),(0,r.jsx)("input",{type:"email",value:f.email,onChange:e=>j({...f,email:e.target.value}),readOnly:!!n,disabled:!!n,className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.email?"border-red-500":"border-gray-300"," ").concat(n?"bg-gray-100 cursor-not-allowed":""),placeholder:"your@email.com",title:n?"Email is locked to your account for security":""}),v.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.email}),n&&(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["\uD83D\uDD12 Order will be linked to your account: ",n.email]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,r.jsx)("input",{type:"tel",value:f.phone,onChange:e=>j({...f,phone:e.target.value}),className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.phone?"border-red-500":"border-gray-300"),placeholder:"10-digit mobile number"}),v.phone&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),(0,r.jsx)("textarea",{value:f.address,onChange:e=>j({...f,address:e.target.value}),rows:"2",className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.address?"border-red-500":"border-gray-300"),placeholder:"House/Flat No., Street, Landmark"}),v.address&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.address})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,r.jsx)("input",{type:"text",value:f.city,onChange:e=>j({...f,city:e.target.value}),className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.city?"border-red-500":"border-gray-300"),placeholder:"City"}),v.city&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.city})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,r.jsx)("input",{type:"text",value:f.state,onChange:e=>j({...f,state:e.target.value}),className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.state?"border-red-500":"border-gray-300"),placeholder:"State"}),v.state&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.state})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code *"}),(0,r.jsx)("input",{type:"text",inputMode:"numeric",value:f.pinCode,onChange:e=>j({...f,pinCode:e.target.value}),maxLength:"6",className:"w-full px-3 sm:px-4 py-3 sm:py-2 text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-brown-600 ".concat(v.pinCode?"border-red-500":"border-gray-300"),placeholder:"6-digit PIN code"}),v.pinCode&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:v.pinCode})]})]}),(0,r.jsx)("div",{className:"mt-4 sm:mt-6 p-4 sm:p-5 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-base sm:text-lg font-semibold text-green-800 mb-2",children:"\uD83D\uDCCF Need Custom Size/Measurements?"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-green-700 mb-3",children:"For perfectly tailored fit, share your measurements via WhatsApp"}),(0,r.jsxs)("a",{href:"https://wa.me/919818174388?text=".concat(encodeURIComponent("Hi! I want to order:\n"+d.map(e=>"".concat(e.name," (₹").concat(e.price," \xd7 ").concat(e.quantity,")")).join("\n")+"\n\nI would like to share my measurements for custom fitting.\nMy details:\n"+"Name: ".concat(f.name||"[Please fill]","\n")+"Phone: ".concat(f.phone||"[Please fill]"))),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-all shadow-md hover:shadow-lg text-sm sm:text-base",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp Measurements"]}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-green-600 mt-3 font-medium",children:"\uD83D\uDCDE +91 98181 74388 | Available 24/7"}),(0,r.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"✓ Share bust, waist, hip, height & other measurements"})]})]})}),(0,r.jsxs)("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t-2 border-gray-200 sticky bottom-0 bg-white pb-2",children:[(0,r.jsx)("button",{onClick:w,disabled:g,className:"w-full text-white py-4 sm:py-4 rounded-lg font-semibold text-base sm:text-lg hover:opacity-90 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",style:{background:"linear-gradient(to right, #B83C3A, #8B1A1A)",minHeight:"56px"},children:g?"Creating Order...":"\uD83D\uDD12 Proceed to Payment"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 text-center mt-2 sm:mt-3",children:"\uD83D\uDD12 Secure payment via Razorpay.me"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 text-center mt-1",children:"You'll be redirected to Razorpay payment page"})]})]})]})})}function u(e){let{isOpen:t,onClose:s}=e,{items:a,updateQuantity:o,removeItem:n,getTotal:i}=(0,m.useCart)(),[c,d]=(0,l.useState)(!1);return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-start justify-center min-h-screen pt-20 px-4",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:s}),(0,r.jsx)("div",{className:"relative bg-white w-full max-w-md rounded-lg shadow-xl",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-serif",children:"Shopping Cart"}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),0===a.length?(0,r.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Your cart is empty"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-4 pb-4 border-b",children:[(0,r.jsx)("div",{className:"w-20 h-24 bg-gray-100 rounded"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",e.price]}),e.selectedSize&&(0,r.jsx)("p",{className:"text-xs mt-1",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-brown-100 text-brown-800 font-semibold",children:["Size: ",e.selectedSize]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,r.jsx)("button",{onClick:()=>o(e.cartId,e.quantity-1),className:"w-6 h-6 border rounded hover:bg-gray-100",children:"-"}),(0,r.jsx)("span",{className:"text-sm",children:e.quantity}),(0,r.jsx)("button",{onClick:()=>{if(e.stock_quantity&&e.quantity>=e.stock_quantity){alert("Only ".concat(e.stock_quantity," items available in stock!"));return}o(e.cartId,e.quantity+1)},className:"w-6 h-6 border rounded hover:bg-gray-100",children:"+"}),(0,r.jsx)("button",{onClick:()=>n(e.cartId),className:"ml-4 text-red-500 text-sm hover:underline",children:"Remove"})]}),e.stock_quantity&&e.stock_quantity<=5&&(0,r.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["Only ",e.stock_quantity," left in stock!"]})]})]},e.cartId))}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t",children:[(0,r.jsxs)("div",{className:"flex justify-between text-lg font-medium",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["₹",i()]})]}),(0,r.jsx)("button",{onClick:()=>d(!0),className:"w-full mt-4 bg-primary-brown text-white py-3 rounded-lg hover:bg-dark-brown transition-colors",children:"Proceed to Checkout"})]})]})]})})]}),(0,r.jsx)(h,{isOpen:c,onClose:()=>d(!1),onSuccess:e=>{alert("Payment successful! Order ID: ".concat(e.order.order_number)),d(!1)}})]}):null}function g(){let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(!1),[i,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[p,y]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),{items:j}=(0,m.useCart)(),{user:v,isAuthenticated:k,logout:N}=(0,c.useAuth)(),w=j.reduce((e,t)=>e+t.quantity,0),C=(0,l.useRef)(null),S=async()=>{await N(),y(!1)};return(0,l.useEffect)(()=>{function e(e){C.current&&!C.current.contains(e.target)&&y(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"bg-cream",children:[(0,r.jsx)("div",{className:"border-b border-primary-brown/20",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center min-w-[80px]",children:[(0,r.jsx)("button",{onClick:()=>f(!b),className:"md:hidden text-rich-brown hover:text-primary-brown transition-colors p-1",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsx)("button",{onClick:()=>t(!0),className:"hidden md:block text-rich-brown hover:text-primary-brown transition-colors p-1",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsxs)(o(),{href:"/",className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-elegant font-medium tracking-widest",style:{color:"#8B2E2E"},children:"Aशा"}),(0,r.jsx)("p",{className:"text-xs md:text-sm mt-1 md:mt-2 font-sans tracking-wide font-normal",style:{color:"#A89878"},children:"Grace Woven by Asha Dhaundiyal"})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3 min-w-[80px]",children:[(0,r.jsx)("div",{className:"relative",ref:C,children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>y(!p),className:"text-rich-brown hover:text-primary-brown transition-colors flex items-center space-x-1 p-1",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 ".concat(p?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white shadow-xl border border-gray-200 rounded-lg transition-all duration-200 z-50 ".concat(p?"opacity-100 visible":"opacity-0 invisible"),children:[(0,r.jsxs)("div",{className:"p-3 border-b border-gray-200",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null==v?void 0:v.name)||"User"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:null==v?void 0:v.email})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsx)(o(),{href:"/orders",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>y(!1),children:"My Orders"}),(0,r.jsx)(o(),{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>y(!1),children:"My Profile"}),(0,r.jsx)("button",{onClick:S,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Logout"})]})]})]}):(0,r.jsx)("button",{onClick:()=>a(!0),className:"text-rich-brown hover:text-primary-brown transition-colors p-1",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),(0,r.jsxs)("button",{onClick:()=>x(!0),className:"text-rich-brown hover:text-primary-brown transition-colors relative p-1",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),w>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:w})]})]})]})})}),(0,r.jsx)("nav",{className:"hidden md:block border-b border-primary-brown/20 bg-primary-brown",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex justify-center space-x-8 py-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{className:"text-cream hover:text-white text-sm tracking-wider flex items-center font-medium",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:["SAREES",(0,r.jsx)("svg",{className:"w-4 h-4 ml-1 transition-transform duration-200 ".concat(h?"rotate-180":"rotate-0"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,r.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-full mt-2 w-[600px] bg-white shadow-xl border border-gray-200 transition-all duration-200 z-50 ".concat(h?"opacity-100 visible":"opacity-0 invisible"),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"ALL SAREES"}),(0,r.jsx)(o(),{href:"/collections?category=saree",className:"block text-gray-600 hover:text-gray-900 text-sm mb-2",children:"View All Sarees"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"SHOP BY FABRIC"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o(),{href:"/collections?category=cotton_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Cotton"}),(0,r.jsx)(o(),{href:"/collections?category=silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Silk"}),(0,r.jsx)(o(),{href:"/collections?category=linen_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Linen"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"SHOP BY WEAVE"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o(),{href:"/collections?category=kantha_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Kantha"}),(0,r.jsx)(o(),{href:"/collections?category=jamdani_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Jamdani"}),(0,r.jsx)(o(),{href:"/collections?category=handloom_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Handloom"}),(0,r.jsx)(o(),{href:"/collections?category=shibori_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Tie N Dye (Shibori)"}),(0,r.jsx)(o(),{href:"/collections?category=handblock_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Handblock"}),(0,r.jsx)(o(),{href:"/collections?category=batik_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Batik"}),(0,r.jsx)(o(),{href:"/collections?category=ajrakh_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Ajrakh"}),(0,r.jsx)(o(),{href:"/collections?category=khadi_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Khadi"}),(0,r.jsx)(o(),{href:"/collections?category=tissue_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Tissue"}),(0,r.jsx)(o(),{href:"/collections?category=jacquard_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Jacquard"}),(0,r.jsx)(o(),{href:"/collections?category=kota_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Kota"})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"SHOP BY VARIETY"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsx)(o(),{href:"/collections?category=handloom_cotton_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Handloom Cotton"}),(0,r.jsx)(o(),{href:"/collections?category=tangail_cotton_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Tangail Cotton"}),(0,r.jsx)(o(),{href:"/collections?category=handloom_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Handloom Silk"}),(0,r.jsx)(o(),{href:"/collections?category=matka_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Matka Silk"}),(0,r.jsx)(o(),{href:"/collections?category=tussar_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Tussar Silk"}),(0,r.jsx)(o(),{href:"/collections?category=muslin_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Muslin Silk"}),(0,r.jsx)(o(),{href:"/collections?category=katan_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Katan Silk"}),(0,r.jsx)(o(),{href:"/collections?category=dhakil_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Dhakil"}),(0,r.jsx)(o(),{href:"/collections?category=mulberry_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Mulberry Silk"}),(0,r.jsx)(o(),{href:"/collections?category=dhonekali_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Dhonekali"}),(0,r.jsx)(o(),{href:"/collections?category=satin_silk_saree",className:"block text-gray-600 hover:text-gray-900 text-sm",children:"Satin Silk"})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"PRICE RANGE"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm",children:[(0,r.jsx)("option",{value:"0",children:"₹0"}),(0,r.jsx)("option",{value:"1000",children:"₹1,000"}),(0,r.jsx)("option",{value:"2000",children:"₹2,000"}),(0,r.jsx)("option",{value:"5000",children:"₹5,000"})]}),(0,r.jsx)("span",{className:"text-gray-500",children:"to"}),(0,r.jsxs)("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm",children:[(0,r.jsx)("option",{value:"10000",children:"₹10,000"}),(0,r.jsx)("option",{value:"20000",children:"₹20,000"}),(0,r.jsx)("option",{value:"50000",children:"₹50,000"}),(0,r.jsx)("option",{value:"100000",children:"₹1,00,000+"})]})]}),(0,r.jsx)("button",{className:"mt-3 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:"CLEAR FILTERS"})]})]})})]}),(0,r.jsx)(o(),{href:"/collections?category=kurti",className:"text-cream hover:text-white text-sm tracking-wider font-medium",children:"KURTA SET"}),(0,r.jsx)(o(),{href:"/collections?category=dupatta",className:"text-cream hover:text-white text-sm tracking-wider font-medium",children:"DUPATTA & STOLES"}),(0,r.jsx)(o(),{href:"/sale",className:"text-cream hover:text-white text-sm tracking-wider font-medium",children:"SALE"})]})})}),(0,r.jsx)("div",{className:"md:hidden bg-white border-t border-gray-200 transition-all duration-300 ease-in-out ".concat(b?"max-h-[calc(100vh-200px)] overflow-y-auto":"max-h-0 overflow-hidden"),children:(0,r.jsxs)("div",{className:"px-4 py-4 pb-8 space-y-4",children:[(0,r.jsxs)("button",{onClick:()=>{t(!0),f(!1)},className:"w-full flex items-center space-x-3 text-gray-700 hover:text-primary-brown py-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("span",{className:"font-medium",children:"Search"})]}),(0,r.jsx)(o(),{href:"/collections?category=saree",onClick:()=>f(!1),className:"block text-gray-700 hover:text-primary-brown py-2 font-medium",children:"All Sarees"}),(0,r.jsx)(o(),{href:"/collections?category=kurti",onClick:()=>f(!1),className:"block text-gray-700 hover:text-primary-brown py-2 font-medium",children:"Kurta Set"}),(0,r.jsx)(o(),{href:"/collections?category=dupatta",onClick:()=>f(!1),className:"block text-gray-700 hover:text-primary-brown py-2 font-medium",children:"Dupatta & Stoles"}),(0,r.jsx)(o(),{href:"/sale",onClick:()=>f(!1),className:"block text-gray-700 hover:text-primary-brown py-2 font-medium",children:"Sale"}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Shop by Fabric"}),(0,r.jsxs)("div",{className:"space-y-3 pl-4",children:[(0,r.jsx)(o(),{href:"/collections?category=cotton_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Cotton Sarees"}),(0,r.jsx)(o(),{href:"/collections?category=silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Silk Sarees"}),(0,r.jsx)(o(),{href:"/collections?category=linen_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Linen Sarees"})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Shop by Weave"}),(0,r.jsxs)("div",{className:"space-y-3 pl-4",children:[(0,r.jsx)(o(),{href:"/collections?category=kantha_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Kantha"}),(0,r.jsx)(o(),{href:"/collections?category=jamdani_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Jamdani"}),(0,r.jsx)(o(),{href:"/collections?category=handloom_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Handloom"}),(0,r.jsx)(o(),{href:"/collections?category=shibori_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Tie N Dye (Shibori)"}),(0,r.jsx)(o(),{href:"/collections?category=handblock_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Handblock"}),(0,r.jsx)(o(),{href:"/collections?category=batik_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Batik"}),(0,r.jsx)(o(),{href:"/collections?category=ajrakh_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Ajrakh"}),(0,r.jsx)(o(),{href:"/collections?category=khadi_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Khadi"}),(0,r.jsx)(o(),{href:"/collections?category=tissue_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Tissue"}),(0,r.jsx)(o(),{href:"/collections?category=jacquard_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Jacquard"}),(0,r.jsx)(o(),{href:"/collections?category=kota_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Kota"})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Shop by Variety"}),(0,r.jsxs)("div",{className:"space-y-3 pl-4",children:[(0,r.jsx)(o(),{href:"/collections?category=handloom_cotton_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Handloom Cotton"}),(0,r.jsx)(o(),{href:"/collections?category=tangail_cotton_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Tangail Cotton"}),(0,r.jsx)(o(),{href:"/collections?category=handloom_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Handloom Silk"}),(0,r.jsx)(o(),{href:"/collections?category=matka_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Matka Silk"}),(0,r.jsx)(o(),{href:"/collections?category=tussar_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Tussar Silk"}),(0,r.jsx)(o(),{href:"/collections?category=muslin_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Muslin Silk"}),(0,r.jsx)(o(),{href:"/collections?category=katan_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Katan Silk"}),(0,r.jsx)(o(),{href:"/collections?category=dhakil_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Dhakil"}),(0,r.jsx)(o(),{href:"/collections?category=mulberry_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Mulberry Silk"}),(0,r.jsx)(o(),{href:"/collections?category=dhonekali_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Dhonekali"}),(0,r.jsx)(o(),{href:"/collections?category=satin_silk_saree",onClick:()=>f(!1),className:"block text-sm text-gray-600 hover:text-primary-brown",children:"Satin Silk"})]})]})]})})]}),(0,r.jsx)(n,{isOpen:e,onClose:()=>t(!1)}),(0,r.jsx)(d,{isOpen:s,onClose:()=>a(!1)}),(0,r.jsx)(u,{isOpen:i,onClose:()=>x(!1)})]})}},4033:function(e,t,s){e.exports=s(5313)}}]);